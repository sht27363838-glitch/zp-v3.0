:root{
  /* 색상 — 높은 대비, 최소 효과 */
  --bg: #0f1115;
  --bg-soft:#151922;
  --card:#171b24;
  --border:#2a2f3a;
  --text:#e7ecf3;
  --muted:#a9b2c3;
  --accent:#3ea6ff;
  --accent-weak:#1f79c6;
  --danger:#ff6b6b;
  --warn:#e6b800;

  /* 간격/라운드 */
  --radius:12px;
  --gap:12px;
  --pad:14px;

  /* 효과 최소화 */
  --shadow:none;
  --blur:0;

  /* 상태 */
  --focus:#7cc4ff;
  --loading:.5;
}

/* 라이트 자동 대응 */
@media (prefers-color-scheme: light){
  :root{
    --bg:#ffffff; --bg-soft:#f6f7f9; --card:#ffffff;
    --border:#e5e8ef; --text:#14181f; --muted:#5b6472;
    --accent:#1769ff; --accent-weak:#0f4db3;
    --danger:#d90429; --warn:#b88700;
  }
}

/* 공통 UI */
body{ background:var(--bg); color:var(--text); }
.card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:var(--pad); box-shadow:var(--shadow); }
.kpi-grid{ display:grid; gap:var(--gap); grid-template-columns:repeat(3,minmax(220px,1fr)); }
@media (max-width:960px){ .kpi-grid{ grid-template-columns:1fr; } }

.btn{ border:1px solid var(--border); background:var(--bg-soft); padding:10px 14px; border-radius:10px; }
.btn.primary{ background:var(--accent); border-color:var(--accent-weak); color:#fff; }
.btn:disabled{ opacity:.5; cursor:not-allowed; }
.btn:focus-visible{ outline:2px solid var(--focus); outline-offset:2px; }
.btn:hover{ filter:brightness(1.03); }

.badge{ display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted); }
.badge.warn{ border-color:var(--warn); color:var(--warn); }
.badge.danger{ border-color:var(--danger); color:var(--danger); }

.table{ width:100%; border-collapse:collapse; }
.table th,.table td{ border-top:1px solid var(--border); padding:10px 12px; }
.table thead th{ background:var(--bg-soft); color:var(--muted); font-weight:600; }

.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.4); }
.modal{ background:var(--card); border:1px solid var(--border); border-radius:14px; padding:16px; width:min(880px,92vw); margin:8vh auto; }

.scroll{ max-height:480px; overflow:auto; border:1px solid var(--border); border-radius:12px; }
.skeleton{ height:160px; border-radius:12px; background:linear-gradient(90deg,var(--bg-soft),#202531,var(--bg-soft)); background-size:200% 100%; animation:sk 1.2s linear infinite; border:1px solid var(--border); }
@keyframes sk{0%{background-position:0% 0}100%{background-position:200% 0}}

/* === Readability hardening === */
:root{
  --bg: #0e1116;
  --panel: #141821;
  --text: #e9eef5;           /* 더 밝게 */
  --muted: #aab2bf;          /* 보조 텍스트 */
  --ring: #7dd3fc;           /* 포커스 링 */
  --shadow: 0 8px 24px rgba(0,0,0,.45);
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#ffffff; --panel:#f5f7fb;
    --text:#0b1220; --muted:#556070;
    --shadow: 0 6px 18px rgba(20,30,50,.12);
  }
}

/* === v3.4.1 Contrast Hotfix ===================================== */
:root {
  /* 라이트 */
  --bg: #0c0f13;                 /* 배경 톤 살짝 올림 */
  --bg-elev: #12171d;            /* 카드 배경 */
  --fg: #e9eef5;                 /* 본문 텍스트 (기존보다 +20~30% 밝게) */
  --fg-muted: #b9c3cf;           /* 보조 텍스트 */
  --accent: #4fe3c1;

  --panel: var(--bg-elev);
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* 구성요소 대비 */
  --tile-bg: rgba(255,255,255,0.06);
  --tile-border: rgba(255,255,255,0.14);
  --table-row: rgba(255,255,255,0.04);
  --table-border: rgba(255,255,255,0.16);

  /* 상태 */
  --success: #2ecc71;
  --warn: #f4bf4f;
  --danger: #ff6b6b;

  /* 로딩 시 투명도 */
  --loading: .5;
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f7f9fc;
    --bg-elev: #ffffff;
    --fg: #0f1115;
    --fg-muted: #5b616a;
    --panel: var(--bg-elev);

    --tile-bg: rgba(0,0,0,0.04);
    --tile-border: rgba(0,0,0,0.08);
    --table-row: rgba(0,0,0,0.03);
    --table-border: rgba(0,0,0,0.1);
  }
}
