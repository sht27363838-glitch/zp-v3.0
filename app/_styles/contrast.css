/* ===== High-contrast + UX quick kit ===== */
:root{
  --bg:#0a0e13; --panel:#111823; --panel-2:#0d131c;
  --text:#ecf3fb; --muted:#b6c3d3;
  --primary:#4fe3c1; --danger:#ff6b6b; --warn:#f0c36a;
  --ring:rgba(79,227,193,.45);
  --radius:14px; --shadow:0 6px 22px rgba(0,0,0,.45);
  --tile-bg:rgba(255,255,255,.05); --tile-head:rgba(255,255,255,.08);
}

/* 텍스트/배경 선명도 */
html,body,.page{background:var(--bg); color:var(--text)!important;}
h1,h2,h3{color:var(--text)!important;}
.muted{color:var(--muted)!important}

/* KPI 타일/카드 */
.kpi-grid .tile,.card.kpi,.kpi-tile,.KpiTile{
  background:var(--tile-bg)!important; color:var(--text)!important;
  border-radius:var(--radius); box-shadow:var(--shadow);
}
.kpi-grid .tile .label,.kpi-tile .label{color:var(--muted)!important}
.kpi-grid .tile .value,.kpi-tile .value,.kpi .value{color:var(--text)!important;font-weight:700}

/* 버튼/배지 */
.btn{background:#1c2430; color:var(--text)}
.btn.primary{background:var(--primary); color:#0b1014; font-weight:700}
.badge{background:var(--panel-2); color:var(--text); border-radius:999px; padding:.25rem .5rem}

/* 표 기본 */
table.table, .table{width:100%; border-collapse:separate; border-spacing:0; color:var(--text)!important; background:var(--panel)!important; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
.table thead th{background:var(--tile-head); color:#d8e9ff!important; text-align:left; padding:.6rem .75rem}
.table td{padding:.55rem .75rem; border-top:1px solid rgba(255,255,255,.06)}
/* 길면 자동 스크롤 — JSX 수정 없이 카드/컨테이너가 테이블을 담고 있으면 동작 */
.card:has(table), .page:has(> .table){max-height:480px; overflow:auto}

/* 스켈레톤(간단) — 데이터 없을 때 placeholder 용 */
.skeleton{height:140px; border-radius:var(--radius);
  background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.11), rgba(255,255,255,.04));
  animation:s1 1.2s infinite linear; box-shadow:var(--shadow)}
@keyframes s1{0%{background-position:-200px 0}100%{background-position:calc(200px) 0}}

/* === visibility hotfix: append-only ===================== */

/* 라이트 모드 대비 자동 보정 */
@media (prefers-color-scheme: light) {
  :root{
    --bg:#f8fafc; --panel:#ffffff; --panel-2:#f3f5f8;
    --text:#0c1220; --muted:#4a5568;
    --shadow:0 6px 16px rgba(15,23,42,.08);
  }
}

/* 본문/네비/라벨 텍스트 명시 강화 */
body, .page, header, nav, h1,h2,h3,h4,h5,h6, p, label, small, code {
  color: var(--text) !important;
}
.muted, .text-dim, .text-sm { color: var(--muted) !important; }

/* 카드/타일 내부도 글자색 고정 */
.card, .kpi-tile, .kpi, .KpiTile, .tile { color: var(--text) !important; }
.card *:not(.muted), .kpi-tile *:not(.muted) { color: inherit; }

/* 테이블 가독성 (헤더 진하게, 본문 선명하게) */
.table { background: var(--panel) !important; color: var(--text) !important; }
.table thead th{
  background: var(--tile-head) !important;
  color: var(--text) !important; font-weight: 800;
}
.table tbody td{ color: var(--text) !important; }

/* 긴 표 스크롤 통일(컴포넌트/JSX 무관) */
.scroll, .ScrollWrap, .card:has(table), .page:has(> .table){ 
  max-height: 480px; overflow: auto;
}

/* 버튼 가독성 + 비활성 시 투명도 */
.btn { color: var(--text) }
.btn.primary{ background: var(--primary); color:#0b1014; font-weight:700 }
.btn:disabled{ opacity:.45; cursor:not-allowed }

/* 스파크/미니 차트 캔버스가 너무 연할 때 대비 업 */
svg, canvas { filter: contrast(115%) saturate(110%); }

/* 포커스 링 */
:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

/* === TEXT VISIBILITY HARD OVERRIDE (append-only) ================= */

/* 라이트 모드 강제 진한 텍스트/배경 */
:root{
  /* 글자/보조글 */
  --text: #0b0f14;        /* 거의 검정 */
  --muted:#475569;        /* 짙은 회색 */

  /* 배경/패널을 아주 밝게 */
  --bg:#f8fafc;
  --panel:#ffffff;
  --panel-2:#f3f6fa;
  --tile-head:#eef2f7;
  --tile-bg:#ffffff;

  /* 그림자/라운드 그대로 */
  --radius:14px;
  --shadow:0 6px 16px rgba(15,23,42,.08);
}

/* 페이지 전역 글자색을 ‘검정’으로 고정 */
html, body, .page,
h1,h2,h3,h4,h5,h6,
p, span, label, small, code,
nav, header, footer {
  color:#0b0f14 !important;
}

/* 카드/타일 내부도 상속받아 진하게 */
.card, .kpi-tile, .tile, .KpiTile, .kpi {
  color: inherit !important;
  background: var(--panel) !important;
  opacity: 1 !important;           /* 흐릿하게 보이는 경우 차단 */
}

/* KPI 타일 값/라벨 */
.kpi-grid .tile .label, .kpi-tile .label { color: var(--muted) !important; }
.kpi-grid .tile .value, .kpi-tile .value { color: var(--text) !important; font-weight: 800; }

/* 표(테이블) 가독성 */
.table { color: var(--text) !important; background: var(--panel) !important; }
.table thead th {
  background: var(--tile-head) !important;
  color: #0b0f14 !important;
  font-weight: 800;
}
.table tbody td { color: #0b0f14 !important; }

/* 배지/버튼 텍스트도 또렷하게 */
.badge { color:#0b0f14 !important; background:var(--panel-2) !important; }
.btn { color:#0b0f14 !important; }
.btn.primary { color:#0b0f14 !important; }

/* 스파크/캔버스가 옅게 보이면 대비 ↑ */
svg, canvas { filter: contrast(115%) saturate(110%); }

/* 혹시 투명도 스타일 탑재된 곳 한 번 더 방지 */
*[style*="opacity"] { opacity: 1 !important; }

/* 성능 모드: 박스 그림자 완화(리스트/히트맵 다량일 때) */
:root {
  --shadow: 0 2px 8px rgba(0,0,0,.06);
}
.card, .table { will-change: transform; }

/* v3.5: 글자 대비 강제 */
:root{ --text-strong:#111; --text-soft:#222; }
@media (prefers-color-scheme: dark){
  :root{ --text-strong:#ecf3fb; --text-soft:#ced9e6; }
}
.page, .card, .kpi-grid, .table{ color:var(--text-strong)!important; }
.muted,.text-dim{ color:var(--text-soft)!important; }
.kpi-tile .value, .KpiTile .value{ color:var(--text-strong)!important; font-weight:700; }

/* === v3.5: table readability === */
.table tbody tr:nth-child(even){ background: rgba(0,0,0,.03) }
.scroll, .ScrollWrap{ position: relative; max-height: 480px; overflow: auto; }
/* thead 고정 (스크롤 해도 헤더 보이게) */
.table thead th{
  position: sticky; top: 0; z-index: 1;
  backdrop-filter: blur(2px);
}

/* ===== quick bump for readability ===== */
:root{ --text:#ffffff; --muted:#d7e1ee; --tile-bg:rgba(255,255,255,.08); --tile-head:rgba(255,255,255,.12); }
.card .label,.muted{ color:var(--muted)!important; }
.table thead th{ color:#eef6ff!important; }

/* === TYPO & SPACING TOKENS ========================================= */
:root{
  /* font sizes */
  --fs-12:12px; --fs-14:14px; --fs-16:16px; --fs-20:20px;
  --lh-140:1.4; --lh-150:1.5;
  /* spacing */
  --pad-8:8px; --pad-12:12px; --gap:12px;
}

/* 본문/제목 기본값 단단히 고정 */
html,body{ font-size:var(--fs-14); line-height:var(--lh-150); }
h1{ font-size:28px; line-height:var(--lh-140); margin:16px 0 12px; }
h2{ font-size:22px; line-height:var(--lh-140); margin:14px 0 10px; }
h3{ font-size:18px; line-height:var(--lh-140); margin:10px 0 8px; }

/* 카드/표 내부 패딩 통일 */
.card{ padding:var(--pad-12); }
.table td,.table th{ padding:.65rem .85rem; }
.badge{ font-size:var(--fs-12); }
.btn{ padding:.5rem .8rem; font-size:var(--fs-14); }

/* ======= KPI 타일 가독성 핫픽스 ======= */
:root{
  /* 필요 시 조정 */
  --panel-strong: #141c26;
  --text-strong: #eaf2ff;
  --text-muted-strong: #c2d4eb;
}

/* 기본 텍스트 색을 확실히 밝게 */
html, body, .page { color: var(--text-strong) !important; }

/* KPI 타일(컴포넌트/클래스 네이밍 다양성 모두 커버) */
.kpi-grid .tile,
.kpi-tile,
.KpiTile,
.card.kpi {
  background: var(--panel-strong) !important;
  color: var(--text-strong) !important;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 라벨(작은 글씨) */
.kpi-grid .tile .label,
.kpi-tile .label,
.KpiTile .label {
  color: var(--text-muted-strong) !important;
  opacity: 1 !important;
}

/* 값(큰 숫자) */
.kpi-grid .tile .value,
.kpi-tile .value,
.KpiTile .value {
  color: var(--text-strong) !important;
  font-weight: 800 !important;
  opacity: 1 !important;
}






