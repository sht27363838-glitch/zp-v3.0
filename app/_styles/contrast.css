/* ===== High-contrast + UX quick kit ===== */
:root{
  --bg:#0a0e13; --panel:#111823; --panel-2:#0d131c;
  --text:#ecf3fb; --muted:#b6c3d3;
  --primary:#4fe3c1; --danger:#ff6b6b; --warn:#f0c36a;
  --ring:rgba(79,227,193,.45);
  --radius:14px; --shadow:0 6px 22px rgba(0,0,0,.45);
  --tile-bg:rgba(255,255,255,.05); --tile-head:rgba(255,255,255,.08);
}

/* 텍스트/배경 선명도 */
html,body,.page{background:var(--bg); color:var(--text)!important;}
h1,h2,h3{color:var(--text)!important;}
.muted{color:var(--muted)!important}

/* KPI 타일/카드 */
.kpi-grid .tile,.card.kpi,.kpi-tile,.KpiTile{
  background:var(--tile-bg)!important; color:var(--text)!important;
  border-radius:var(--radius); box-shadow:var(--shadow);
}
.kpi-grid .tile .label,.kpi-tile .label{color:var(--muted)!important}
.kpi-grid .tile .value,.kpi-tile .value,.kpi .value{color:var(--text)!important;font-weight:700}

/* 버튼/배지 */
.btn{background:#1c2430; color:var(--text)}
.btn.primary{background:var(--primary); color:#0b1014; font-weight:700}
.badge{background:var(--panel-2); color:var(--text); border-radius:999px; padding:.25rem .5rem}

/* 표 기본 */
table.table, .table{width:100%; border-collapse:separate; border-spacing:0; color:var(--text)!important; background:var(--panel)!important; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
.table thead th{background:var(--tile-head); color:#d8e9ff!important; text-align:left; padding:.6rem .75rem}
.table td{padding:.55rem .75rem; border-top:1px solid rgba(255,255,255,.06)}
/* 길면 자동 스크롤 — JSX 수정 없이 카드/컨테이너가 테이블을 담고 있으면 동작 */
.card:has(table), .page:has(> .table){max-height:480px; overflow:auto}

/* 스켈레톤(간단) — 데이터 없을 때 placeholder 용 */
.skeleton{height:140px; border-radius:var(--radius);
  background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.11), rgba(255,255,255,.04));
  animation:s1 1.2s infinite linear; box-shadow:var(--shadow)}
@keyframes s1{0%{background-position:-200px 0}100%{background-position:calc(200px) 0}}

/* === visibility hotfix: append-only ===================== */

/* 라이트 모드 대비 자동 보정 */
@media (prefers-color-scheme: light) {
  :root{
    --bg:#f8fafc; --panel:#ffffff; --panel-2:#f3f5f8;
    --text:#0c1220; --muted:#4a5568;
    --shadow:0 6px 16px rgba(15,23,42,.08);
  }
}

/* 본문/네비/라벨 텍스트 명시 강화 */
body, .page, header, nav, h1,h2,h3,h4,h5,h6, p, label, small, code {
  color: var(--text) !important;
}
.muted, .text-dim, .text-sm { color: var(--muted) !important; }

/* 카드/타일 내부도 글자색 고정 */
.card, .kpi-tile, .kpi, .KpiTile, .tile { color: var(--text) !important; }
.card *:not(.muted), .kpi-tile *:not(.muted) { color: inherit; }

/* 테이블 가독성 (헤더 진하게, 본문 선명하게) */
.table { background: var(--panel) !important; color: var(--text) !important; }
.table thead th{
  background: var(--tile-head) !important;
  color: var(--text) !important; font-weight: 800;
}
.table tbody td{ color: var(--text) !important; }

/* 긴 표 스크롤 통일(컴포넌트/JSX 무관) */
.scroll, .ScrollWrap, .card:has(table), .page:has(> .table){ 
  max-height: 480px; overflow: auto;
}

/* 버튼 가독성 + 비활성 시 투명도 */
.btn { color: var(--text) }
.btn.primary{ background: var(--primary); color:#0b1014; font-weight:700 }
.btn:disabled{ opacity:.45; cursor:not-allowed }

/* 스파크/미니 차트 캔버스가 너무 연할 때 대비 업 */
svg, canvas { filter: contrast(115%) saturate(110%); }

/* 포커스 링 */
:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

